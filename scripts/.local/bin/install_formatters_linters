#!/usr/bin/env bash

set -euo pipefail

function main {
    if ! command -v hadolint &> /dev/null; then
        brew install hadolint
    fi

    if ! command -v jq &> /dev/null; then
        brew install jq
    fi

    if ! command -v shellcheck &> /dev/null; then
        brew install shellcheck
    fi

    if ! command -v shfmt &> /dev/null; then
        brew install shfmt
    fi

    if ! command -v vale &> /dev/null; then
        brew install vale
    fi

    if ! command -v dotenv-linter &> /dev/null; then
        cargo install dotenv-linter
    fi

    # if ! command -v shellharden &> /dev/null; then
    #     cargo install shellharden
    # fi

    if ! command -v stylua &> /dev/null; then
        cargo install stylua
    fi

    if ! command -v autoflake &> /dev/null; then
        pipx install autoflake
    fi

    if ! command -v black &> /dev/null; then
        pipx install black
    fi

    if ! command -v codespell &> /dev/null; then
        pipx install codespell
    fi

    if ! command -v flake8 &> /dev/null; then
        pipx install flake8
    fi

    if ! command -v isort &> /dev/null; then
        pipx install isort
    fi

    if ! command -v eslint_d &> /dev/null; then
        yarn global add eslint_d
    fi

    if ! command -v fixjson &> /dev/null; then
        yarn global add fixjson
    fi

    if ! command -v markdownlint &> /dev/null; then
        yarn global add markdownlint-cli
    fi

    if ! command -v nginxbeautifier &> /dev/null; then
        yarn global add nginxbeautifier
    fi

    if ! command -v prettier &> /dev/null; then
        yarn global add prettier
    fi

    if ! command -v prettierd &> /dev/null; then
        yarn global add @fsouza/prettierd
    fi

    if ! command -v rustywind &> /dev/null; then
        yarn global add rustywind
    fi

    if ! command -v stylelint &> /dev/null; then
        yarn global add stylelint stylelint-config-standard
    fi

    if ! command -v luarocks &> /dev/null; then
        luarocks install luacheck
    fi

    asdf reshim
}

main
