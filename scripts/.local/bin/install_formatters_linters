#!/usr/bin/env bash

set -euo pipefail

function main {
    if ! command -v hadolint &> /dev/null; then
        brew install hadolint
    fi

    if ! command -v jq &> /dev/null; then
        brew install jq
    fi

    if ! command -v shellcheck &> /dev/null; then
        brew install shellcheck
    fi

    if ! command -v shfmt &> /dev/null; then
        brew install shfmt
    fi

    if ! command -v vale &> /dev/null; then
        brew install vale
    fi

    if ! command -v dotenv-linter &> /dev/null; then
        cargo install dotenv-linter
    fi

    if ! command -v selene &> /dev/null; then
        cargo install selene
    fi

    if ! command -v stylua &> /dev/null; then
        cargo install stylua
    fi

    if ! command -v autoflake &> /dev/null; then
        pipx install autoflake
    fi

    if ! command -v bandit &> /dev/null; then
        pipx install bandit
    fi

    if ! command -v black &> /dev/null; then
        pipx install black
    fi

    if ! command -v codespell &> /dev/null; then
        pipx install codespell
    fi

    if ! command -v docformatter &> /dev/null; then
        pipx install docformatter
    fi

    if ! command -v flake8 &> /dev/null; then
        pipx install flake8
    fi

    if ! command -v isort &> /dev/null; then
        pipx install isort
    fi

    if ! command -v pybetter &> /dev/null; then
        pipx install pybetter
    fi

    if ! command -v pylint &> /dev/null; then
        pipx install pylint
    fi

    if ! command -v pyupgrade &> /dev/null; then
        pipx install pyupgrade
    fi

    if ! command -v ssort &> /dev/null; then
        pipx install ssort
    fi

    if ! command -v fixjson &> /dev/null; then
        npm install --global fixjson
    fi

    if ! command -v markdownlint &> /dev/null; then
        npm install --global markdownlint-cli
    fi

    if ! command -v nginxbeautifier &> /dev/null; then
        npm install --global nginxbeautifier
    fi

    if ! command -v prettier &> /dev/null; then
        npm install --global add prettier
    fi

    if ! command -v prettierd &> /dev/null; then
        npm install --global @fsouza/prettierd
    fi

    if ! command -v rustywind &> /dev/null; then
        npm install --global rustywind
    fi

    if ! command -v stylelint &> /dev/null; then
        npm install --global stylelint stylelint-config-standard
    fi

    asdf reshim
}

main
