# General
set-option -g prefix C-a

set -g base-index 1
setw -g pane-base-index 1

set -g status-keys vi
setw -g mode-keys vi
set -g mouse on
set -g renumber-windows on

# Theme
set -g @onedark_time_format "%I:%M %p"

#set -g status-justify centre
#set -g status-left-length 100
#set -g status-left '#[fg=green][#S] #I:#P'
#set -g status-right '#[fg=yellow]%d %b %Y #[fg=blue]%l:%M %p'

#set -g message-style bg=default,fg=white,bright
#set -g status-style bg=default,fg=white,bright
#set -g window-status-style bg=default,fg=white,dim
#set -g window-status-current-style bg=default,fg=white,bright

# Key Mappings
bind-key v next-layout
bind-key -T copy-mode-vi v send-keys -X begin-selection

bind c new-window -c "#{pane_current_path}"

# Remove confirm-before
bind-key & kill-window
bind-key x kill-pane

# Pane Split
unbind %
bind \\ split-window -h -c "#{pane_current_path}"
unbind '"'
bind - split-window -v -c "#{pane_current_path}"

# Pane Navigation
# See for https://github.com/christoomey/vim-tmux-navigator (n)vi(m) only
forward_programs="view|n?vim?|fzf"
should_forward="ps -o state= -o comm= -t '#{pane_tty}' \
  | grep -iqE '^[^TXZ ]+ +(\\S+\\/)?g?($forward_programs)(diff)?$'"

bind -n C-h if-shell "$should_forward" "send-keys C-h" "select-pane -L"
bind -n C-j if-shell "$should_forward" "send-keys C-j" "select-pane -D"
bind -n C-k if-shell "$should_forward" "send-keys C-k" "select-pane -U"
bind -n C-l if-shell "$should_forward" "send-keys C-l" "select-pane -R"
bind -n C-\\ if-shell "$should_forward" "send-keys C-\\\\" "select-pane -l"

# Pane Resize
bind -n M-h if-shell "$should_forward" "send-keys M-h" "resize-pane -L 5"
bind -n M-j if-shell "$should_forward" "send-keys M-j" "resize-pane -D 5"
bind -n M-k if-shell "$should_forward" "send-keys M-k" "resize-pane -U 5"
bind -n M-l if-shell "$should_forward" "send-keys M-l" "resize-pane -R 5"

# List of plugins
set -g @plugin "tmux-plugins/tpm"
set -g @plugin "tmux-plugins/tmux-sensible"
set -g @plugin "tmux-plugins/tmux-yank"
set -g @plugin 'IngoMeyer441/tmux-easy-motion'
set -g @plugin 'odedlaz/tmux-onedark-theme'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run "~/.tmux/plugins/tpm/tpm"
